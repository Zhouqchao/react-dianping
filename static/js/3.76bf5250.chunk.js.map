{"version":3,"sources":["containers/Home/components/Header/index.js","containers/Home/components/Category/index.js","containers/Home/components/Headline/index.js","containers/Home/components/Activity/index.js","containers/Home/components/Discount/index.js","containers/Home/components/LikeItem/index.js","containers/Home/components/LikeList/index.js","components/Footer/index.js","containers/Home/index.js","components/Banner/index.js","components/Loading/index.js"],"names":["HomeHeader","className","to","Component","dataSource","name","src","Category","settings","dots","arrows","speed","slidesToShow","slidesToScroll","swipeToSlide","infinite","autoplay","map","data","index","key","i","alt","pic","title","url","Headline","vertical","href","Activity","Discount","this","props","picture","id","product","currentPrice","oldPrice","LikeItem","tag","shop","saleDesc","LikeList","handleScroll","clientHeight","document","documentElement","likeListHeight","likeListRef","current","offsetHeight","offsetTop","scrollTop","body","isFetching","fetchData","React","createRef","removeListener","addEventListener","pageCount","removeEventListener","ref","item","Loading","Footer","Home","homeActions","fetchDiscounts","likes","discounts","isFetchingLikes","fetchLikes","Header","Banner","connect","state","getLikes","getDiscounts","getLikesPageCount","getIsFetchingLikes","dispatch","bindActionCreators","style","dark","backgroundImage"],"mappings":"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","file":"static/js/3.76bf5250.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./style.css\";\n\nclass HomeHeader extends Component {\n  render() {\n    return (\n      <div className=\"home-header\">\n        <header>\n          <Link to=\"/\" className=\"home-header__location\">\n            上海\n          </Link>\n          <Link to=\"/search\" className=\"home-header__search\">\n            输入商户名、地点\n          </Link>\n          <Link to=\"/user\" className=\"home-header__self\">\n            <div className=\"home-header__portrait\"></div>\n          </Link>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default HomeHeader;\n","import React, { Component } from \"react\";\nimport Slider from \"react-slick\";\nimport \"./style.css\";\n\nconst dataSource = [\n  [\n    {\n      name: \"猫眼电影\",\n      src:\n        \"https://www.dpfile.com/sc/eleconfig/20170223152109dp_wx_maoyan_icon.png\"\n    },\n    {\n      name: \"酒店\",\n      src: \"https://www.dpfile.com/sc/eleconfig/20160126203337jiudian.png\"\n    },\n    {\n      name: \"休闲娱乐\",\n      src: \"https://www.dpfile.com/sc/eleconfig/20160126202841xiuxianyule.png\"\n    },\n    {\n      name: \"外卖\",\n      src: \"https://www.dpfile.com/sc/eleconfig/20160126203251waimai.png\"\n    },\n    {\n      name: \"火锅\",\n      src: \"https://www.dpfile.com/sc/eleconfig/20160204172927huoguo.png\"\n    },\n    {\n      name: \"美食\",\n      src: \"https://www.dpfile.com/sc/eleconfig/20160126194705meishi.png\"\n    },\n    {\n      name: \"丽人\",\n      src: \"https://www.dpfile.com/sc/eleconfig/20160126202946liren.png\"\n    },\n    {\n      name: \"休闲娱乐\",\n      src: \"https://www.dpfile.com/sc/eleconfig/20160126203542ktv.png\"\n    },\n    {\n      name: \"KTV\",\n      src: \"https://www.dpfile.com/sc/eleconfig/20160126203440zhoubianyou.png\"\n    },\n    {\n      name: \"婚纱摄影\",\n      src: \"https://www.dpfile.com/sc/eleconfig/20160126203830jiehun.png\"\n    }\n  ],\n  [\n    {\n      name: \"生活服务\",\n      src: \"https://www.dpfile.com/sc/eleconfig/20170308125500community_new.png\"\n    },\n    {\n      name: \"景点\",\n      src: \"https://www.dpfile.com/sc/eleconfig/20160126205135jingguan.png\"\n    },\n    {\n      name: \"爱车\",\n      src: \"https://www.dpfile.com/sc/eleconfig/20160126203742aiche.png\"\n    },\n    {\n      name: \"运动健身\",\n      src: \"https://www.dpfile.com/sc/eleconfig/20160126203617jianshen.png\"\n    },\n    {\n      name: \"购物\",\n      src: \"https://www.dpfile.com/sc/eleconfig/20160314121215icongouwu135.png\"\n    },\n    {\n      name: \"亲子\",\n      src: \"https://www.dpfile.com/sc/eleconfig/20160126203905qinzi.png\"\n    },\n    {\n      name: \"到家\",\n      src: \"https://www.dpfile.com/sc/eleconfig/20160126203812daojia.png\"\n    },\n    {\n      name: \"家装\",\n      src: \"https://www.dpfile.com/sc/eleconfig/20161213162031zhuangxiu.png\"\n    },\n    {\n      name: \"学习培训\",\n      src: \"https://www.dpfile.com/gp/cms/1455525720807.png\"\n    },\n    {\n      name: \"医疗健康\",\n      src: \"https://www.dpfile.com/sc/eleconfig/20160126204327yiliao.png\"\n    }\n  ],\n  [\n    {\n      name: \"小吃快餐\",\n      src:\n        \"https://www.dpfile.com/sc/eleconfig/20160204173331xiaochikuaican.png\"\n    },\n    {\n      name: \"自助餐\",\n      src: \"https://www.dpfile.com/sc/eleconfig/20160204173511zizhucan.png\"\n    },\n    {\n      name: \"日本菜\",\n      src: \"https://www.dpfile.com/sc/eleconfig/20160415121719rihanliaoli.png\"\n    },\n    {\n      name: \"美发\",\n      src: \"https://www.dpfile.com/sc/eleconfig/20160316142804meifa.png\"\n    },\n    {\n      name: \"美甲美瞳\",\n      src: \"https://www.dpfile.com/sc/eleconfig/20160316143047meijia.png\"\n    },\n    {\n      name: \"美容SPA\",\n      src: \"https://www.dpfile.com/sc/eleconfig/20160316143239meirong.png\"\n    },\n    {\n      name: \"瘦身\",\n      src: \"https://www.dpfile.com/sc/eleconfig/20160316143316shoushen.png\"\n    },\n    {\n      name: \"亲子摄影\",\n      src: \"https://www.dpfile.com/sc/eleconfig/20160316143612qinzisheying.png\"\n    },\n    {\n      name: \"亲子娱乐\",\n      src: \"https://www.dpfile.com/sc/eleconfig/20160316143656qinziyoule.png\"\n    },\n    {\n      name: \"全部分类\",\n      src: \"https://www.dpfile.com/sc/eleconfig/20160125182200more.png\"\n    }\n  ]\n];\n\nclass Category extends Component {\n  render() {\n    var settings = {\n      dots: true,\n      arrows: false,\n      speed: 1000,\n      slidesToShow: 1,\n      slidesToScroll: 1,\n      swipeToSlide: true,\n      infinite: false,\n      autoplay: false\n    };\n    return (\n      <div className=\"category\">\n        <Slider {...settings}>\n          {dataSource.map((data, index) => {\n            return (\n              <div key={index}>\n                <ul className=\"category__section\">\n                  {data.map(({ src, name }, i) => (\n                    <li key={i} className=\"category__item\">\n                      <img className=\"category__icon\" src={src} alt={name} />\n                      <p className=\"category__name\">{name}</p>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            );\n          })}\n        </Slider>\n      </div>\n    );\n  }\n}\n\nexport default Category;\n","import React, { Component } from \"react\";\nimport Slider from \"react-slick\";\nimport \"./style.css\";\n\nconst dataSource = [\n  {\n    pic:\n      \"https://p1.meituan.net/gpa/5ee6d6d00d942804557c73abff79b855116489.jpg%40100w_100h_1e_1c_1l%7Cwatermark%3D1%26%26r%3D1%26p%3D9%26x%3D20%26y%3D20\",\n    title: \"精选专题：2017好物盘点\",\n    url:\n      \"https://h5.dianping.com/app/h5-ranklist-static/list_nearby.html?collectionId=227&source=weixinM\"\n  },\n  {\n    pic:\n      \"https://p0.meituan.net/gpa/387438cef7e2bb9eff5b701dde173f27268549.png%40100w_100h_1e_1c_1l%7Cwatermark%3D1%26%26r%3D1%26p%3D9%26x%3D20%26y%3D20\",\n    title: \"不比出国差，短假期选这些地方玩！当天都来得及去哦～\",\n    url:\n      \"https://h5.dianping.com/app/h5-ranklist-static/list_nearby.html?headlineId=394055&source=weixinM\"\n  },\n  {\n    pic:\n      \"https://p1.meituan.net/gpa/fbd325713d43366810452c38fc0e32e1945185.png%40100w_100h_1e_1c_1l%7Cwatermark%3D1%26%26r%3D1%26p%3D9%26x%3D20%26y%3D20\",\n    title: \"吓到腿软！12条恐怖玻璃栈道，敢去吗？\",\n    url:\n      \"https://h5.dianping.com/app/h5-ranklist-static/list_nearby.html?headlineId=484549&source=weixinM\"\n  }\n];\n\nclass Headline extends Component {\n  render() {\n    var settings = {\n      slidesToShow: 1,\n      swipeToSlide: true,\n      autoplay: true,\n      vertical: true\n    };\n\n    return (\n      <div className=\"headline\">\n        <div className=\"headline__logo\"></div>\n        <div className=\"headline__slider\">\n          <Slider {...settings}>\n            {dataSource.map(({ title, pic, url }, index) => (\n              <div key={index}>\n                <a href={url} className=\"headline__link\">\n                  <div className=\"headline__item\">\n                    <span className=\"headline__title\">{title}</span>\n                    <img className=\"headline__img\" src={pic} alt={title} />\n                  </div>\n                </a>\n              </div>\n            ))}\n          </Slider>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Headline;\n","import React, { Component } from \"react\";\nimport \"./style.css\";\n\nclass Activity extends Component {\n  render() {\n    return (\n      <div className=\"activity\">\n        <div className=\"activity__block\">\n          <a\n            className=\"activity__content activity__content--pink\"\n            href=\"https://h5.dianping.com/app/ziggurat/1005/index.html?activity_tlt=1005&infrom=mzone\"\n          >\n            <div className=\"activity__title\">最高88元</div>\n            <div className=\"activity__subTitle activity__subTitle--pink\">\n              速领新人红包\n            </div>\n            <img\n              className=\"activity__pic\"\n              src=\"https://op.meituan.net/oppkit_pic/20160310032241-1e027deb-2/a3a31fff2e047a907a53d6488877f7fe.png\"\n              alt=\"速领新人红包\"\n            />\n          </a>\n        </div>\n        <div className=\"activity__block\">\n          <a\n            className=\"activity__content activity__content--blue\"\n            href=\"//h5.dianping.com/app/ziggurat/1361/index.html?notitlebar=1&token=*&latitude=*&longitude=*&activity_tlt=1361&infrom=mzone\"\n          >\n            <div className=\"activity__title\">品质福利放送</div>\n            <div className=\"activity__subTitle activity__subTitle--blue\">\n              享吃喝玩乐礼\n            </div>\n            <img\n              className=\"activity__pic\"\n              src=\"https://op.meituan.net/oppkit_pic/20160310032241-1e027deb-2/a9b8c52c341892600ff7260c89025a59.png\"\n              alt=\"享吃喝玩乐礼\"\n            />\n          </a>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Activity;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./style.css\";\n\nclass Discount extends Component {\n  render() {\n    const { data } = this.props;\n\n    return (\n      <div className=\"discount\">\n        <div className=\"discount__header\">\n          <h3 className=\"discount__title\">超值特惠</h3>\n          <a href=\"#top\" className=\"discount__more\">\n            <span>更多优惠</span>\n            <span className=\"discount__arrow\"></span>\n          </a>\n        </div>\n        <ul className=\"discount__list\">\n          {data.map(({ picture, id, product, url, currentPrice, oldPrice }) => (\n            <li key={id} className=\"discount__item\">\n              <Link to={`/detail/${id}`} className=\"discount__item-link\">\n                <img className=\"discount__img\" src={picture} alt=\"\" />\n                <p className=\"discount__product\">{product}</p>\n                <div>\n                  <span className=\"discount__current-price\">\n                    {currentPrice}\n                  </span>\n                  <span className=\"discount__old-price\">{oldPrice}</span>\n                </div>\n              </Link>\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default Discount;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./style.css\";\n\nclass LikeItem extends Component {\n  render() {\n    const {\n      id,\n      picture,\n      tag,\n      shop,\n      product,\n      currentPrice,\n      oldPrice,\n      saleDesc\n    } = this.props.data;\n\n    return (\n      <Link to={`/detail/${id}`} className=\"like-item\">\n        <div className=\"like-item__img-wrapper\">\n          <img src={picture} alt=\"\" className=\"like-item__img\" />\n          <span className=\"like-item__tag\">{tag}</span>\n        </div>\n        <div className=\"like-item__content\">\n          <p className=\"like-item__shop\">{shop}</p>\n          <p className=\"like-item__product\">{product}</p>\n          <p className=\"like-item__price\">\n            <span className=\"like-item__current-price\">{currentPrice}</span>\n            <span className=\"like-item__old-price\">{oldPrice}</span>\n          </p>\n          <span className=\"like-item__sale\">{saleDesc}</span>\n        </div>\n      </Link>\n    );\n  }\n}\n\nexport default LikeItem;\n","import React, { Component } from \"react\";\nimport \"./style.css\";\nimport LikeItem from \"../LikeItem\";\nimport Loading from \"../../../../components/Loading\";\n\nclass LikeList extends Component {\n  constructor(props) {\n    super(props);\n    this.likeListRef = React.createRef();\n    this.removeListener = false;\n  }\n  componentDidMount() {\n    document.addEventListener(\"scroll\", this.handleScroll);\n\n    if (this.props.pageCount === 0) {\n      this.props.fetchData();\n    }\n  }\n  componentWillUnmount() {\n    if (!this.removeListener) {\n      document.removeEventListener(\"scroll\", this.handleScroll);\n    }\n  }\n  componentDidUpdate() {\n    if (this.props.pageCount >= 3 && !this.removeListener) {\n      document.removeEventListener(\"scroll\", this.handleScroll);\n      this.removeListener = true;\n    }\n  }\n  handleScroll = () => {\n    // 获取屏幕可视区域高度\n    const clientHeight = document.documentElement.clientHeight;\n    // 获取元素内容的高度\n    const likeListHeight = this.likeListRef.current.offsetHeight;\n    // 获取元素顶部距离页面顶部的距离\n    const offsetTop = this.likeListRef.current.offsetTop;\n    // 获取页面滚动的距离\n    const scrollTop =\n      document.documentElement.scrollTop || document.body.scrollTop;\n    const unseenHeight = likeListHeight + offsetTop - clientHeight;\n    if (scrollTop >= unseenHeight && !this.props.isFetching) {\n      this.props.fetchData();\n    }\n  };\n  render() {\n    const { data, pageCount } = this.props;\n\n    return (\n      <div className=\"like-list\" ref={this.likeListRef}>\n        <div className=\"like-list__header\">猜你喜欢</div>\n        <div className=\"like-list__content\">\n          {data.map(item => (\n            <LikeItem key={item.id} data={item} />\n          ))}\n        </div>\n        {pageCount < 3 ? (\n          <Loading />\n        ) : (\n          <a href=\"#view-more\" className=\"like-list__view-more\">\n            查看更多\n          </a>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default LikeList;\n","import React, { Component } from \"react\";\nimport \"./style.css\";\n\nclass Footer extends Component {\n  render() {\n    return (\n      <div className=\"footer\">\n        <div className=\"footer__links\">\n          <p>\n            <a href=\"https://m.dianping.com/nmy/myinfo\">我的</a>\n            <a href=\"https://m.dianping.com/nmy/myinfo\">社区论坛</a>\n            <a href=\"https://m.dianping.com/nmy/myinfo\">添加商户</a>\n            <a href=\"https://m.dianping.com/nmy/myinfo\">意见反馈</a>\n          </p>\n          <p>\n            <a href=\"https://m.dianping.com/nmy/myinfo\">美团网</a>\n            <a href=\"https://m.dianping.com/nmy/myinfo\">美团下载</a>\n            <a href=\"https://m.dianping.com/nmy/myinfo\">结婚</a>\n            <a href=\"https://m.dianping.com/nmy/myinfo\">亲子</a>\n            <a href=\"https://m.dianping.com/nmy/myinfo\">家装</a>\n            <a href=\"https://m.dianping.com/nmy/myinfo\">宴会</a>\n            <a href=\"https://m.dianping.com/nmy/myinfo\">教育</a>\n          </p>\n          <p>\n            <a href=\"https://m.dianping.com/nmy/myinfo\">电脑版</a>\n            <a href=\"https://m.dianping.com/nmy/myinfo\">客户端</a>\n          </p>\n        </div>\n        <p className=\"footer__copyright\">copyright &copy;2020 dianping.com</p>\n      </div>\n    );\n  }\n}\n\nexport default Footer;\n","import React, { Component } from \"react\";\nimport \"./style.css\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport Header from \"./components/Header\";\nimport Banner from \"../../components/Banner\";\nimport Category from \"./components/Category\";\nimport Headline from \"./components/Headline\";\nimport Activity from \"./components/Activity\";\nimport Discount from \"./components/Discount\";\nimport LikeList from \"./components/LikeList\";\nimport Footer from \"../../components/Footer\";\nimport {\n  homeActions,\n  getLikes,\n  getDiscounts,\n  getLikesPageCount,\n  getIsFetchingLikes\n} from \"../../redux/modules/home\";\n\nclass Home extends Component {\n  componentDidMount() {\n    this.props.homeActions.fetchDiscounts();\n  }\n  render() {\n    const {\n      likes,\n      discounts,\n      pageCount,\n      isFetchingLikes,\n      homeActions: { fetchLikes }\n    } = this.props;\n\n    return (\n      <div className=\"home\">\n        <Header />\n        <Banner />\n        <Category />\n        <Headline />\n        <Activity />\n        <Discount data={discounts} />\n        <LikeList\n          data={likes}\n          pageCount={pageCount}\n          isFetching={isFetchingLikes}\n          fetchData={fetchLikes}\n        />\n        <Footer />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  likes: getLikes(state),\n  discounts: getDiscounts(state),\n  pageCount: getLikesPageCount(state),\n  isFetchingLikes: getIsFetchingLikes(state)\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    homeActions: bindActionCreators(homeActions, dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n","import React, { Component } from \"react\";\nimport \"./style.css\";\n\nclass Banner extends Component {\n  render() {\n    const { dark } = this.props;\n    const style = dark\n      ? {\n          backgroundImage:\n            \"url(https://www.dpfile.com/app/node-mobile-m-isomorphism-web/static/ee72da6bea423a71f81c4e0be8a1dcf7.png)\"\n        }\n      : null;\n    return (\n      <header className=\"banner\" style={style}>\n        <div className=\"banner__title\">\n          <span className=\"banner__logo\" />\n          <span className=\"banner__text\">吃喝玩乐，找优惠</span>\n        </div>\n        <div className=\"banner__btns\">\n          <a\n            className=\"banner__btn\"\n            href=\"https://evt.dianping.com/synthesislink/6702.html\"\n          >\n            打开大众点评\n          </a>\n          <a\n            className=\"banner__btn banner__btn--bg\"\n            href=\"https://m.dianping.com/download/redirect?id=11186\"\n          >\n            下载APP享特价\n          </a>\n        </div>\n      </header>\n    );\n  }\n}\n\nexport default Banner;\n","import React, { Component } from \"react\";\nimport \"./style.css\";\n\nclass Loading extends Component {\n  render() {\n    return (\n      <div className=\"loading\">\n        <div className=\"loading__img\"></div>\n        <span>正在加载...</span>\n      </div>\n    );\n  }\n}\n\nexport default Loading;\n"],"sourceRoot":""}