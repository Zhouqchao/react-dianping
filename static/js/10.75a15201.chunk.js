(this["webpackJsonpreact-dianping"]=this["webpackJsonpreact-dianping"]||[]).push([[10],{150:function(e,a,t){},151:function(e,a,t){},157:function(e,a,t){"use strict";t.r(a);var r=t(16),n=t(17),c=t(19),s=t(18),i=t(0),l=t.n(i),o=t(3),p=t(21),u=t(6),m=t(92),h=(t(150),function(e){Object(c.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=a.call.apply(a,[this].concat(c))).handleOrderSubtract=function(){var a=e.props,t=a.quantity,r=a.setOrderQuantity;r(t<=1?1:t-1)},e.handleOrderAdd=function(){var a=e.props,t=a.quantity;(0,a.setOrderQuantity)(t+1)},e.handleInputChange=function(a){var t=parseInt(a.target.value),r=e.props.setOrderQuantity;r(t<=1?1:t)},e}return Object(n.a)(t,[{key:"render",value:function(){var e=this.props,a=e.detail.products,t=e.quantity,r=e.totalPrice,n=e.phone,c=e.handleOrderSubmit;return l.a.createElement("div",{className:"purchase-form"},l.a.createElement("ul",{className:"purchase-form__products"},a.map((function(e,a){var t=e.name,r=e.quantity;return l.a.createElement("li",{key:a,className:"purchase-form__product"},l.a.createElement("span",{className:"purchase-form__product-name"},t),l.a.createElement("span",{className:"purchase-form__product-quantity"},"x",parseInt(r)))}))),l.a.createElement("div",{className:"purchase-form__group"},l.a.createElement("div",{className:"purchase-form__item"},l.a.createElement("label",{htmlFor:"",className:"purchase-form__label"},"\u6570\u91cf"),l.a.createElement("div",{className:"purchase-form__value purchase-form__input-wrapper"},l.a.createElement("span",{className:"purchase-form__btn--subtract",onClick:this.handleOrderSubtract},"-"),l.a.createElement("input",{type:"number",value:t,className:"purchase-form__input",onChange:this.handleInputChange}),l.a.createElement("span",{className:"purchase-form__btn--add",onClick:this.handleOrderAdd},"+"))),l.a.createElement("div",{className:"purchase-form__item"},l.a.createElement("span",{className:"purchase-form__label"},"\u5c0f\u8ba1"),l.a.createElement("span",{className:"purchase-form__value purchase-form__price"},"\xa5",r)),l.a.createElement("div",{className:"purchase-form__item"},l.a.createElement("label",{htmlFor:"",className:"purchase-form__label"},"\u624b\u673a\u53f7\u7801"),l.a.createElement("span",{className:"purchase-form__value purchase-form__phone"},n))),l.a.createElement("ul",{className:"purchase-form__advantages"},l.a.createElement("li",{className:"purchase-form__advantage"},l.a.createElement("i",{className:"purchase-form__icon"}),l.a.createElement("span",null,"\u652f\u6301\u968f\u65f6\u9000")),l.a.createElement("li",{className:"purchase-form__advantage"},l.a.createElement("i",{className:"purchase-form__icon"}),l.a.createElement("span",null,"\u652f\u6301\u8fc7\u671f\u9000"))),l.a.createElement("span",{className:"purchase-form__submit",onClick:c},"\u63d0\u4ea4\u8ba2\u5355"))}}]),t}(i.Component)),d=(t(151),function(e){Object(c.a)(t,e);var a=Object(s.a)(t);function t(){return Object(r.a)(this,t),a.apply(this,arguments)}return Object(n.a)(t,[{key:"render",value:function(){var e=this.props,a=e.msg,t=e.handleConfirm;return l.a.createElement("div",{className:"tip"},l.a.createElement("div",{className:"tip__box"},l.a.createElement("div",{className:"tip__msg"},a),l.a.createElement("div",{className:"tip__btns"},l.a.createElement("button",{type:"button",className:"tip__btn tip__btn--confirm",onClick:t},"\u786e\u5b9a"))))}}]),t}(i.Component)),_=t(52),f=t(26),b=t(37),v=function(e){Object(c.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=a.call.apply(a,[this].concat(c))).handleBack=function(){e.props.history.goBack()},e.handleConfirm=function(){(0,e.props.purchaseActions.hideTip)(),e.props.history.push("/user")},e.handleOrderSubmit=function(){(0,e.props.purchaseActions.submitOrder)(e.props.match.params.id)},e}return Object(n.a)(t,[{key:"componentDidMount",value:function(){this.props.product||this.props.detailActions.fetchProduct(this.props.match.params.id)}},{key:"componentWillUnmount",value:function(){this.props.purchaseActions.setOrderQuantity(1)}},{key:"render",value:function(){var e=this.props,a=e.product,t=e.quantity,r=e.isShowTip,n=e.totalPrice,c=e.phone,s=this.props.purchaseActions.setOrderQuantity;return l.a.createElement("div",{className:"purchase"},l.a.createElement(m.a,{title:"\u4e0b\u5355",onBack:this.handleBack}),a&&l.a.createElement(h,{detail:a.detail,quantity:t,totalPrice:n,phone:c,setOrderQuantity:s,handleOrderSubmit:this.handleOrderSubmit}),r&&l.a.createElement(d,{msg:"\u8d2d\u4e70\u6210\u529f",handleConfirm:this.handleConfirm}))}}]),t}(i.Component);a.default=Object(o.g)(Object(p.b)((function(e,a){return{quantity:Object(_.d)(e),isShowTip:Object(_.c)(e),totalPrice:Object(_.f)(e,a.match.params.id),product:Object(_.e)(e,a.match.params.id),phone:Object(f.e)(e)}}),(function(e){return{purchaseActions:Object(u.b)(_.a,e),detailActions:Object(u.b)(b.a,e)}}))(v))},92:function(e,a,t){"use strict";var r=t(16),n=t(17),c=t(19),s=t(18),i=t(0),l=t.n(i),o=(t(93),function(e){Object(c.a)(t,e);var a=Object(s.a)(t);function t(){return Object(r.a)(this,t),a.apply(this,arguments)}return Object(n.a)(t,[{key:"render",value:function(){var e=this.props,a=e.className,t=e.title,r=e.onBack;return l.a.createElement("div",{className:"base-header"},l.a.createElement("span",{className:"base-header__back ".concat(a),onClick:r},"\u8fd4\u56de"),l.a.createElement("h2",{className:"base-header__title"},t))}}]),t}(i.Component));a.a=o},93:function(e,a,t){}}]);
//# sourceMappingURL=10.75a15201.chunk.js.map